<!-- ... head aynÄ± ... -->
<style>
  /* Mevcut stillere ekle */
  input:invalid { border: 2px solid #dc3545; }
  .result .method { margin: 12px 0; padding: 12px; border-radius: 8px; background: #f8f9fa; border: 1px solid #dee2e6; }
  .result .method.ok { background: #d4edda; border-color: #c3e6cb; color: #155724; }
  .error { color: #dc3545; font-weight: bold; }
  .bottom-menu a.active { background: rgba(255,255,255,0.2); }
</style>

<!-- Body iÃ§inde card'Ä± iyileÅŸtir -->
<div class="card">
  <label for="kg">Kilo (kg) <small>(zorunlu)</small></label>
  <input type="number" id="kg" min="0.1" step="0.1" placeholder="Ã–rn: 10.5" required>

  <label for="mlkg">ml/kg/gÃ¼n (isteÄŸe baÄŸlÄ±)</label>
  <select id="mlkg">
    <option value="">SeÃ§iniz</option>
    <!-- seÃ§enekler aynÄ± -->
  </select>

  <label for="bsaRate">ml/mÂ²/gÃ¼n (isteÄŸe baÄŸlÄ±)</label>
  <select id="bsaRate">
    <option value="">SeÃ§iniz</option>
    <!-- seÃ§enekler aynÄ± -->
  </select>

  <button onclick="hesapla()">Hesapla</button>

  <div class="result" id="sonuc"></div>

  <button class="copy" onclick="kopyala()">ğŸ“‹ Order'Ä± Panoya Kopyala</button>
</div>

<script>
// Mevcut fonksiyonu iyileÅŸtirilmiÅŸ hali
function hesapla() {
  const kgInput = document.getElementById("kg");
  const kg = parseFloat(kgInput.value.trim()) || 0;
  const mlkg = parseFloat(document.getElementById("mlkg").value) || 0;
  const bsaRate = parseFloat(document.getElementById("bsaRate").value) || 0;

  let html = "";
  let orderText = "";

  if (kg <= 0) {
    document.getElementById("sonuc").innerHTML = '<div class="error">LÃ¼tfen geÃ§erli bir kilo girin (0.1 kg ve Ã¼zeri).</div>';
    return;
  }

  // Holiday-Segar
  let hs = 0;
  if (kg <= 10) hs = kg * 100;
  else if (kg <= 20) hs = 1000 + (kg - 10) * 50;
  else hs = 1500 + (kg - 20) * 20;

  html += `<div class="method ok">
    <strong>ğŸ§® Holidayâ€“Segar:</strong> ${hs.toFixed(0)} ml/gÃ¼n 
    <br><small>(${ (hs/24).toFixed(1) } ml/saat)</small>
  </div>`;
  orderText += `BakÄ±m sÄ±vÄ±sÄ± (Holiday-Segar): ${hs.toFixed(0)} ml/gÃ¼n (${(hs/24).toFixed(1)} ml/saat)\n`;

  // ml/kg
  if (mlkg > 0) {
    const total = kg * mlkg;
    html += `<div class="method ok">
      <strong>ğŸ’§ ${mlkg} ml/kg:</strong> ${total.toFixed(0)} ml/gÃ¼n 
      <br><small>(${ (total/24).toFixed(1) } ml/saat)</small>
    </div>`;
    orderText += `${mlkg} ml/kg â†’ ${total.toFixed(0)} ml/gÃ¼n (${(total/24).toFixed(1)} ml/saat)\n`;
  }

  // BSA
  if (bsaRate > 0) {
    const bsa = (4 * kg + 7) / (90 + kg);
    const total = bsa * bsaRate;
    html += `<div class="method ok">
      <strong>ğŸ“ mÂ² yÃ¶ntemi (${bsaRate} ml/mÂ²):</strong> ${total.toFixed(0)} ml/gÃ¼n 
      <br><small>BSA: ${bsa.toFixed(3)} mÂ² Â· (${ (total/24).toFixed(1) } ml/saat)</small>
    </div>`;
    orderText += `BSA (${bsa.toFixed(3)} mÂ²) @ ${bsaRate} ml/mÂ²: ${total.toFixed(0)} ml/gÃ¼n (${(total/24).toFixed(1)} ml/saat)\n`;
  }

  if (!mlkg && !bsaRate) {
    html += '<div class="method"><em>Sadece Holiday-Segar hesaplandÄ±. ml/kg veya mÂ² seÃ§ebilirsiniz.</em></div>';
  }

  html += `<br><small style="color:#dc3545;">âš ï¸ Bu bakÄ±m sÄ±vÄ±sÄ± tahmini hesaplamasÄ±dÄ±r. AteÅŸ, kayÄ±plar, idrar Ã§Ä±kÄ±ÅŸÄ± ve klinik duruma gÃ¶re ayarlayÄ±n. Kaynak: Holiday-Segar (Pediatrics 1957), Mosteller BSA.</small>`;

  document.getElementById("sonuc").innerHTML = html;
  window.orderText = orderText; // global yap
}

function kopyala() {
  if (!window.orderText) {
    alert("Ã–nce hesaplama yapÄ±n.");
    return;
  }
  navigator.clipboard.writeText(window.orderText).then(() => {
    alert("Order panoya kopyalandÄ±!");
  }).catch(() => {
    alert("Kopyalama baÅŸarÄ±sÄ±z. LÃ¼tfen manuel seÃ§ip kopyalayÄ±n.");
  });
}
</script>

<!-- Bottom menu'ya active class ekle -->
<div class="bottom-menu">
  <a href="index.html">ğŸ <br><span>Ana MenÃ¼</span></a>
  <a href="sivi.html" class="active">ğŸ’§<br><span>SÄ±vÄ±</span></a>
  <a href="gir.html">ğŸ§®<br><span>GIR</span></a>
  <!-- diÄŸer linkler -->
</div>
